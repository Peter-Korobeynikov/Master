<?php
 use Tygh\Settings; if (!defined('BOOTSTRAP')) { die('Access denied'); } if ($_SERVER['REQUEST_METHOD'] == 'POST') { if ($mode == 'update' && $_REQUEST['addon'] == 'sd_geolocation') { $google_api_key_id = Settings::instance()->getId('google_key', 'sd_geolocation'); $google_api_key_data = Settings::instance()->getData($google_api_key_id); $google_api_key = isset($google_api_key_data['value']) ? $google_api_key_data['value'] : ''; if (!$google_api_key) { fn_set_notification('E', __('error'), __('addons.sd_geolocation.not_entered_google_api_key')); return; } if (!sd_YTRhZmM1MDgzNmVmYzhlY2QyMjlkYTVh($google_api_key)) { fn_set_notification('E', __('error'), __('addons.sd_geolocation.invalid_google_api_key')); return; } } }